import{a as ae}from"./chunk-DFL4DIVM.js";import{A as m,B as n,Ba as xe,C as i,D as d,Da as be,E as O,Ea as he,F as u,Fa as b,G as p,H as ne,I as z,J as s,K as c,L as I,M as D,O as ie,P as oe,Q as B,R as v,S as re,ca as M,da as se,ea as me,fa as pe,ga as le,h as S,ha as de,i as w,ia as N,j as W,ja as P,k as X,ka as k,la as R,m as Y,ma as V,n as Z,na as Q,o,oa as G,p as H,pa as $,q as g,qa as C,r as ee,ra as ce,s as y,sa as ue,t as E,ta as _e,u as T,ua as fe,v as F,va as L,w as q,wa as ge,x as te,xa as ve,y as _,ya as Ce,z as f,za as x}from"./chunk-HI4M3FS4.js";function Ie(t,a){if(t&1&&(n(0,"p",6),s(1),i()),t&2){let e=a.$implicit;o(),c(e)}}function Me(t,a){if(t&1&&(n(0,"mat-option",16),s(1),i()),t&2){let e=a.$implicit;m("value",e),o(),I(" ",e.value," ")}}var U=class t{title;subtitle;descriptions;options;on_start=new E;form=new R({selected:new V("",{validators:[N.required]})});ngOnInit(){}get selected(){return this.form.get("selected")}onStart(){this.on_start.emit(this.selected.value)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-subdomains-components-dashboard"]],inputs:{title:"title",subtitle:"subtitle",descriptions:"descriptions",options:"options"},outputs:{on_start:"on_start"},decls:24,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"title","margin-bottom-16"],[1,"margin-bottom-48"],[1,"col-md-12","margin-bottom-48"],[1,"margin-bottom-8"],[1,"form",3,"submit","formGroup"],[1,"flex","hcenter"],[1,"card-full","min"],[1,"column"],["appearance","outline"],[3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"btn-form"],["type","submit","matButton","tonal",3,"disabled"],[3,"value"]],template:function(e,r){e&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),s(4),i(),n(5,"p",4),s(6),i()(),n(7,"div",5),_(8,Ie,2,1,"p",6,q),i(),n(10,"div",2)(11,"form",7),u("submit",function(){return r.onStart()}),n(12,"div",8)(13,"div",9)(14,"div",10)(15,"mat-form-field",11)(16,"mat-label"),s(17,"Escolha uma op\xE7\xE3o:"),i(),n(18,"mat-select",12),y(19,Me,2,2,"mat-option",13),i()()(),n(20,"div")(21,"div",14)(22,"button",15),s(23,"Iniciar"),i()()()()()()()()()),e&2&&(o(4),I("Simulado: ",r.title),o(2),c(r.subtitle),o(2),f(r.descriptions),o(3),m("formGroup",r.form),o(7),m("formControl",r.selected),o(),m("ngForOf",r.options),o(3),m("disabled",r.form.invalid))},dependencies:[v,oe,b,x,M,de,le,ce,pe,C,Q,P,k,G,$],encapsulation:2})};function Te(t,a){if(t&1&&(n(0,"div",14)(1,"mat-radio-button",18),s(2),i()()),t&2){let e=a.$implicit;o(),m("value",e),o(),c(e)}}function Fe(t,a){if(t&1){let e=O();n(0,"div",7)(1,"form",8),u("submit",function(){S(e);let l=p();return w(l.nextQuestion())}),n(2,"div",9)(3,"div",4)(4,"mat-chip"),s(5),i()(),n(6,"div",10)(7,"label",11),s(8),i()(),n(9,"div",12)(10,"mat-radio-group",13),_(11,Te,3,2,"div",14,te),i()()(),n(13,"div",15)(14,"button",16),u("click",function(){S(e);let l=p();return w(l.prev())}),s(15,"Voltar"),i(),n(16,"button",17),s(17,"Continuar"),i()()()()}if(t&2){let e=p();o(),m("formGroup",e.form_questions),o(4),c(e.questions[e.index]==null?null:e.questions[e.index].category),o(3),c(e.questions[e.index]==null?null:e.questions[e.index].description),o(2),m("formControl",e.item),o(),f(e.questions[e.index]==null?null:e.questions[e.index].options),o(3),m("disabled",e.index<1),o(2),m("disabled",e.form_questions.invalid)}}var j=class t{index;questions;percentage;on_prev=new E;on_next=new E;form_questions=new R({item:new V("",{validators:[N.required]})});ngOnInit(){}prev(){this.on_prev.emit()}nextQuestion(){this.on_next.emit([this.item.value]),this.item.reset()}get item(){return this.form_questions.get("item")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-subdomains-components-question"]],inputs:{index:"index",questions:"questions",percentage:"percentage"},outputs:{on_prev:"on_prev",on_next:"on_next"},decls:8,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"margin-bottom-24"],[1,"margin-bottom-8"],["mode","determinate",3,"percentage"],["class","card-full",4,"ngIf"],[1,"card-full"],[3,"submit","formGroup"],[1,"margin-bottom-48"],[1,"margin-bottom-32"],["id","itemForm",1,"title-question"],[1,"items-questions"],[1,"radio-group",3,"formControl"],[1,"item-form"],[1,"btn-for-questions"],["type","button","matButton","outlined",3,"click","disabled"],["type","submit","matButton","outlined",3,"disabled"],[1,"radio-button",3,"value"]],template:function(e,r){e&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),s(5),i(),d(6,"app-ui-progress-bar",5),i(),y(7,Fe,18,6,"div",6),i()()()),e&2&&(o(5),D("Pergunta ",r.index+1," de ",r.questions.length),o(),m("percentage",r.percentage),o(),m("ngIf",r.questions[r.index]))},dependencies:[v,B,b,he,x,M,ue,_e,L,C,Q,P,k,G,$],styles:["@media (max-width: 768px){.items-questions[_ngcontent-%COMP%]{padding-right:16px}}"]})};function Oe(t,a){if(t&1&&(n(0,"mat-icon",13),s(1,"thumb_up"),i(),n(2,"div",14),s(3," acertos "),i()),t&2){let e=p();o(2),m("matBadge",e.correct_answer.length)}}function De(t,a){t&1&&(n(0,"div",15),s(1,"Nenhuma acerto."),i())}function Be(t,a){if(t&1&&(n(0,"p",19),s(1),i()),t&2){let e=a.$implicit,r=a.$index,l=p().$implicit,h=p();z("correct",l.correct_answer.includes(e)),o(),D(" ",h.recoverLetter(r)," - ",e)}}function Ne(t,a){if(t&1&&(n(0,"div",4)(1,"mat-chip",16),s(2),i(),n(3,"h4",17),s(4),i(),n(5,"div",4),_(6,Be,2,4,"p",18,q),i(),d(8,"mat-divider"),i()),t&2){let e=a.$implicit;o(2),c(e.category),o(2),I("Quest\xE3o: ",e.description),o(2),f(e.options)}}function Pe(t,a){if(t&1&&(n(0,"mat-icon",13),s(1,"thumb_down"),i(),n(2,"div",20),s(3,"erros "),i()),t&2){let e=p();o(2),m("matBadge",e.wrong_answer.length)}}function ke(t,a){t&1&&(n(0,"div",15),s(1,"Nenhuma erro."),i())}function Re(t,a){if(t&1&&(n(0,"p",19),s(1),i()),t&2){let e=a.$implicit,r=a.$index,l=p().$implicit,h=p();z("correct",l.correct_answer.includes(e))("incorrect",l.answer.includes(e)),o(),D("",h.recoverLetter(r)," - ",e)}}function Ve(t,a){if(t&1&&(n(0,"div",12)(1,"mat-chip",16),s(2),i(),n(3,"h4",17),s(4),i(),n(5,"div",4),_(6,Re,2,6,"p",21,q),i(),d(8,"mat-divider"),i()),t&2){let e=a.$implicit;o(2),c(e.category),o(2),c(e.description),o(2),f(e.options)}}var A=class t{correct_answer;wrong_answer;qtdd_questions;ngOnInit(){}restart(){window.location.reload()}recoverLetter(a){return String.fromCharCode(64+(a+1))}get percentage(){return Math.round(this.correct_answer.length/this.qtdd_questions*100)}get percentageSvg(){return 100-this.percentage}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-subdomains-components-report"]],inputs:{correct_answer:"correct_answer",wrong_answer:"wrong_answer",qtdd_questions:"qtdd_questions"},decls:26,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card-full","margin-bottom-24"],[1,"margin-bottom-24"],["xmlns","http://www.w3.org/2000/svg","viewBox","-1 -1 34 34"],["cx","16","cy","16","r","15.9155",1,"progress-bar__background"],["cx","16","cy","16","r","15.9155",1,"progress-bar__progress","js-progress-bar"],[1,"title","margin-bottom-24"],["matButton","outlined",3,"click"],["mat-tab-label",""],["class","report-content",4,"ngIf"],[1,"report-content","margin-bottom-24"],[1,"example-tab-icon"],["matBadgeOverlap","false",1,"badge-success","padding-left-8",3,"matBadge"],[1,"report-content"],[1,"margin-bottom-16"],[1,"title-question","margin-bottom-16"],[1,"margin-bottom-8",3,"correct"],[1,"margin-bottom-8"],["matBadgeOverlap","false",1,"demo-section","padding-left-8",3,"matBadge"],[1,"margin-bottom-8",3,"correct","incorrect"]],template:function(e,r){e&1&&(n(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),W(),n(5,"svg",5),d(6,"circle",6)(7,"circle",7),i()(),X(),n(8,"p",8),s(9),i(),n(10,"button",9),u("click",function(){return r.restart()}),s(11,"Simular novamente"),i()(),n(12,"div")(13,"mat-tab-group")(14,"mat-tab"),y(15,Oe,4,1,"ng-template",10)(16,De,2,0,"div",11),n(17,"div",12),_(18,Ne,9,2,"div",4,q),i()(),n(20,"mat-tab"),y(21,Pe,4,1,"ng-template",10)(22,ke,2,0,"div",11),n(23,"div",4),_(24,Ve,9,2,"div",12,q),i()()()()()()()),e&2&&(o(7),ne("stroke-dashoffset",r.percentageSvg,"px"),o(2),I("Voc\xEA acertou ",r.percentage,"% das quest\xF5es"),o(7),m("ngIf",r.correct_answer.length===0),o(2),f(r.correct_answer),o(4),m("ngIf",r.wrong_answer.length===0),o(2),f(r.wrong_answer))},dependencies:[v,B,b,x,se,M,me,fe,L,ge,ve,Ce,C],styles:["svg[_ngcontent-%COMP%]{height:160px;transform:rotate(-90deg);width:160px}.progress-bar__background[_ngcontent-%COMP%]{fill:none;stroke:#e2eff00f;stroke-width:1.8}.progress-bar__progress[_ngcontent-%COMP%]{fill:none;stroke:#0dd;stroke-dasharray:100 100;stroke-dashoffset:0;stroke-linecap:round;stroke-width:1.8;transition:stroke-dashoffset 1s ease-in-out}.report-content[_ngcontent-%COMP%]{padding:24px 0}"]})};function Qe(t,a){t&1&&d(0,"app-ui-loading")}function Ge(t,a){t&1&&(d(0,"app-business-header"),n(1,"p",0),s(2,"Ocorreu um erro inesperado."),i())}function $e(t,a){if(t&1){let e=O();n(0,"app-subdomains-components-question",6),u("on_next",function(l){S(e);let h=p(4);return w(h.nextQuestion(l))})("on_prev",function(){S(e);let l=p(4);return w(l.prevQuestion())}),i()}if(t&2){let e=p(4);m("index",e.question_index)("questions",e.questions)("percentage",e.percentage)}}function Le(t,a){if(t&1&&d(0,"app-subdomains-components-report",5),t&2){let e=p(4);m("correct_answer",e.correct_answer)("wrong_answer",e.wrong_answer)("qtdd_questions",e.questions.length)}}function Ue(t,a){if(t&1&&T(0,$e,1,3,"app-subdomains-components-question",4)(1,Le,1,3,"app-subdomains-components-report",5),t&2){let e=p(3);F(e.questions.length>e.question_index?0:1)}}function je(t,a){if(t&1){let e=O();n(0,"app-subdomains-components-dashboard",7),u("on_start",function(l){S(e);let h=p(3);return w(h.onStart(l))}),i()}if(t&2){let e=p(3);m("title",e.simulated.title)("subtitle",e.simulated.subtitle)("descriptions",e.simulated.descriptions)("options",e.options)}}function Ae(t,a){if(t&1&&(d(0,"app-business-header",1),n(1,"section",2),T(2,Ue,2,1)(3,je,1,4,"app-subdomains-components-dashboard",3),i()),t&2){let e=p(2);m("href",e.simulated.guide),o(2),F(e.questions.length>0?2:3)}}function He(t,a){if(t&1&&T(0,Ge,3,0)(1,Ae,4,2),t&2){let e=p();F(e.is_error()?0:1)}}var ye=class t extends ae{constructor(e,r){super();this.cdr=e;this.platformId=r}simulated;questions=[];question_index=0;wrong_answer=[];correct_answer=[];is_error=Y(!1);error=!1;ngOnInit(){re(this.platformId)&&this.onSimulated()}onSimulated(){this.id&&this.app_service.simulation(this.id).subscribe({next:e=>{this.simulated=e,this.error=this.app_service.validator_service.onQuestions(this.simulated.questions),this.app_service.seo_service.updateSeoTags(this.simulated.title,this.simulated.description_seo)},error:e=>console.log(e),complete:()=>{this.is_loading.set(!1),this.is_error.set(this.error),this.cdr.detectChanges()}})}prevQuestion(){this.question_index--}nextQuestion(e){if(this.questions[this.question_index].answer=e,this.question_index++,this.questions.length===this.question_index){let{correct:r,wrong:l}=this.app_service.config_service.calculateResult(this.questions);this.correct_answer=r,this.wrong_answer=l}}onStart(e){this.questions=this.app_service.config_service.createGroupQuestions(e.params,this.simulated.questions)}get percentage(){return Math.round((this.question_index+1)/this.questions.length*100)}get options(){return this.simulated.options??[]}static \u0275fac=function(r){return new(r||t)(H(ie),H(Z))};static \u0275cmp=g({type:t,selectors:[["app-subdomains-simulated"]],features:[ee],decls:2,vars:1,consts:[[1,"text-center"],[3,"href"],[1,"padding-bottom-32"],[3,"title","subtitle","descriptions","options"],[3,"index","questions","percentage"],[3,"correct_answer","wrong_answer","qtdd_questions"],[3,"on_next","on_prev","index","questions","percentage"],[3,"on_start","title","subtitle","descriptions","options"]],template:function(r,l){r&1&&T(0,Qe,1,0,"app-ui-loading")(1,He,2,1),r&2&&F(l.is_loading()?0:1)},dependencies:[v,b,xe,be,x,C,U,j,A],styles:[".btn-form[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.action-buttons[_ngcontent-%COMP%]{padding-bottom:20px}.headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.headers-align[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%] + .mat-mdc-form-field[_ngcontent-%COMP%]{margin-left:8px}.bg-accordion[_ngcontent-%COMP%]{background-color:#324b4b}"]})};export{ye as SimulatedComponent};
